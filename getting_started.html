<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Applied Geodata Science - 2&nbsp; Getting started</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./programming_primers.html" rel="next">
<link href="./intro.html" rel="prev">
<link href="./figures/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="twitter:title" content="Applied Geodata Science - 2&nbsp; Getting started">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="./figures/RStudio_interface_screenshot.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/stineb/agds_book/" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./getting_started.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting_started.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programming_primers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Programming primers</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data wrangling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data visualisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_variety.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data variety</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./open_science.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Open science practices</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./code_management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Code management</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression_classification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Regression and classification</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./supervised_ml_I.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Supervised machine learning I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./supervised_ml_II.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Supervised machine learning II</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./randomforest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Random Forest</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interpretable-ml.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Interpretable Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives"><span class="header-section-number">2.1</span> Learning objectives</a></li>
  <li><a href="#tutorial" id="toc-tutorial" class="nav-link" data-scroll-target="#tutorial"><span class="header-section-number">2.2</span> Tutorial</a>
  <ul class="collapse">
  <li><a href="#working-with-r-and-rstudio" id="toc-working-with-r-and-rstudio" class="nav-link" data-scroll-target="#working-with-r-and-rstudio"><span class="header-section-number">2.2.1</span> Working with R and RStudio</a></li>
  <li><a href="#r-objects" id="toc-r-objects" class="nav-link" data-scroll-target="#r-objects"><span class="header-section-number">2.2.2</span> R objects</a></li>
  <li><a href="#r-environment" id="toc-r-environment" class="nav-link" data-scroll-target="#r-environment"><span class="header-section-number">2.2.3</span> R environment</a></li>
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries"><span class="header-section-number">2.2.4</span> Libraries</a></li>
  <li><a href="#r-scripts" id="toc-r-scripts" class="nav-link" data-scroll-target="#r-scripts"><span class="header-section-number">2.2.5</span> R scripts</a></li>
  <li><a href="#rmarkdown" id="toc-rmarkdown" class="nav-link" data-scroll-target="#rmarkdown"><span class="header-section-number">2.2.6</span> R Markdown</a></li>
  <li><a href="#wspmgmt" id="toc-wspmgmt" class="nav-link" data-scroll-target="#wspmgmt"><span class="header-section-number">2.2.7</span> Workspace management</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup"><span class="header-section-number">2.2.8</span> Setup</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">2.3</span> Exercises</a>
  <ul class="collapse">
  <li><a href="#dimensions-of-a-circle" id="toc-dimensions-of-a-circle" class="nav-link" data-scroll-target="#dimensions-of-a-circle">Dimensions of a circle</a></li>
  <li><a href="#sequence-of-numbers" id="toc-sequence-of-numbers" class="nav-link" data-scroll-target="#sequence-of-numbers">Sequence of numbers</a></li>
  <li><a href="#gauss-sum" id="toc-gauss-sum" class="nav-link" data-scroll-target="#gauss-sum">Gauss sum</a></li>
  <li><a href="#magic-trick-algorithm" id="toc-magic-trick-algorithm" class="nav-link" data-scroll-target="#magic-trick-algorithm">Magic trick algorithm</a></li>
  <li><a href="#vectors-1" id="toc-vectors-1" class="nav-link" data-scroll-target="#vectors-1">Vectors</a></li>
  <li><a href="#data-frames-1" id="toc-data-frames-1" class="nav-link" data-scroll-target="#data-frames-1">Data frames</a></li>
  <li><a href="#workspace" id="toc-workspace" class="nav-link" data-scroll-target="#workspace">Workspace</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="gettingstarted" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting started</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>Chapter lead author: Pepa Arán</strong></p>
<section id="learning-objectives" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">2.1</span> Learning objectives</h2>
<p>This chapter provides a start at the very beginning of your journey in Applied Geodata Science with two main aims. First, it introduces the very basics for readers with no experience using R. You will be able to:</p>
<ul>
<li>Work with R and RStudio.</li>
<li>Know basic R objects and classes.</li>
<li>Understand how R interacts with files in your computer.</li>
</ul>
<p>Second, the tutorial of this chapter prepares you for your work on the remainder of this course by setting up all the necessary infrastructure. Also experienced R users should follow respective tutorial sections: Sec. @ref(rmarkdown), @ref(wspmgmt), and @ref(setup)). You will:</p>
<ul>
<li>Organize your workspace for efficient data science projects.</li>
<li>Have installed <em>git</em> and all R packages used throughout the book.</li>
</ul>
<p>Completing these points are essential before we go deeper into project management topics in Chapters @ref(openscience) and @ref(codemgmt). Chapter @ref(programmingprimers) will focus on how to code.</p>
</section>
<section id="tutorial" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="tutorial"><span class="header-section-number">2.2</span> Tutorial</h2>
<section id="working-with-r-and-rstudio" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="working-with-r-and-rstudio"><span class="header-section-number">2.2.1</span> Working with R and RStudio</h3>
<p>R is a free, open-source programming language and software environment for statistical computing and graphics. It is widely used, not only among statisticians and data miners for developing statistical software, but also by scientist in various domains for data analysis, visualisation, and modelling. RStudio is an integrated development environment (IDE) that provides a user-friendly “center stage” for your work in R (and Python, see <a href="https://posit.co/blog/three-ways-to-program-in-python-with-rstudio/">here</a>).</p>
<section id="installing-r-and-rstudio" class="level4" data-number="2.2.1.1">
<h4 data-number="2.2.1.1" class="anchored" data-anchor-id="installing-r-and-rstudio"><span class="header-section-number">2.2.1.1</span> Installing R and RStudio</h4>
<p>To use R and RStudio, you will first need to download and install them on your computer.</p>
<ul>
<li><p>To install R, go to the <a href="https://cran.r-project.org/">CRAN website</a> and download the latest version of R for your operating system. Once the download is complete, follow the on-screen installation instructions for your operating system to install R.</p></li>
<li><p>To install RStudio, go to the <a href="https://posit.co/download/rstudio-desktop/">RStudio website</a> and download the latest version of RStudio for your operating system. Once the download is complete, follow the installation instructions for your operating system to install RStudio.</p></li>
</ul>
</section>
<section id="the-rstudio-interface" class="level4" data-number="2.2.1.2">
<h4 data-number="2.2.1.2" class="anchored" data-anchor-id="the-rstudio-interface"><span class="header-section-number">2.2.1.2</span> The RStudio interface</h4>
<p>RStudio provides a user-friendly interface for writing, running, and debugging R code. When you open RStudio, you will see the following:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/RStudio_interface_screenshot.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">RStudio interface.</figcaption>
</figure>
</div>
</div>
</div>
<p>The interface is divided into four main panels:</p>
<ul>
<li>The <strong>source editor</strong> is where you can write, edit, and save your R code.</li>
<li>The <strong>console</strong> is where you can enter R commands and see the output.</li>
<li>The <strong>environment</strong> panel shows you the objects (variables, data frames, etc.) that are currently in your R session, as well as their values.</li>
<li>The <strong>files, plots, help, etc.</strong> panel shows you the files, plots, and other items that are currently in your R workspace, as well as help and documentation for R functions and packages. We will cover this in more detail later in this course.</li>
</ul>
</section>
<section id="running-r-code" class="level4" data-number="2.2.1.3">
<h4 data-number="2.2.1.3" class="anchored" data-anchor-id="running-r-code"><span class="header-section-number">2.2.1.3</span> Running R code</h4>
<p>Once you have both programs installed, you can open RStudio and begin a new <em>R session</em>. To run R code using R Studio, follow these steps:</p>
<ul>
<li>In the <em>source editor</em> panel, type your R code.</li>
<li>To run the code, you can either press the <strong>Run</strong> button or use the keyboard shortcut Ctrl + Enter (Windows) or Command + Enter (Mac).</li>
<li>The code will be executed in the <em>console</em> panel, and any output will be displayed there.</li>
<li>Alternatively, you can directly type single-statement R commands in the console and run them by pressing Enter.</li>
</ul>
<p>For example, let’s say you want to calculate the sum of the numbers 1, 2, and 3. You can write the following code in the console or in the source editor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the sum of 1, 2, and 3</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<p>If you’ve entered it in the console, press Enter. If you’ve entered it in the source editor, you can press the <strong>Run</strong> button or use the keyboard shortcut to run the code. The output will be displayed in the console:</p>
<pre><code>    &gt; 1 + 2 + 3
    [1] 6</code></pre>
</section>
<section id="base-r-operations" class="level4" data-number="2.2.1.4">
<h4 data-number="2.2.1.4" class="anchored" data-anchor-id="base-r-operations"><span class="header-section-number">2.2.1.4</span> Base R operations</h4>
<p>The R {base} package contains the basic functions which let R function as a programming language: arithmetic, input/output, basic programming support, etc. Its contents are always available when you start an R session. Here we introduce the main binary operators, which work on vectors, matrices and scalars.</p>
<p>Arithmetic operators:</p>
<ul>
<li><code>+</code> addition</li>
<li><code>-</code> subtraction</li>
<li><code>*</code> multiplication</li>
<li><code>/</code> division</li>
<li><code>^</code> or <code>**</code> exponentiation</li>
<li><code>%%</code> modulo operator (returns remainder of a division)</li>
</ul>
<p>Logical operators:</p>
<ul>
<li><code>&gt;</code> greater than</li>
<li><code>&gt;=</code> greater than or equal to</li>
<li><code>==</code> exactly equal to</li>
<li><code>&lt;</code> less than</li>
<li><code>&lt;=</code> less than or equal to</li>
<li><code>!=</code> not equal</li>
</ul>
</section>
</section>
<section id="r-objects" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="r-objects"><span class="header-section-number">2.2.2</span> R objects</h3>
<p>In addition to running single statements in the R console, the output of a statement can be saved as a new <em>object</em>. There are many kinds of R objects, some of which are covered here and in future chapters.</p>
<section id="types-of-data" class="level4" data-number="2.2.2.1">
<h4 data-number="2.2.2.1" class="anchored" data-anchor-id="types-of-data"><span class="header-section-number">2.2.2.1</span> Types of data</h4>
<p>First, we will introduce the different types of data that one can encounter. We can classify variables according to what values they take.</p>
<ul>
<li><em>Numerical</em>: These variables can be measured quantitatively and their value is a number.
<ul>
<li><em>Continuous</em>: We say that a variable is continuous when it can take an infinite number of real values within an interval. One could consider unbounded variables (height above sea level) or restricted variables, like positive variables (weight of a person) or an interval (a proportion between 0 and 1).</li>
<li><em>Discrete</em>: When the variable can only take a finite number of values in an interval, we say it is discrete. A common example is count data, like the population of a city.</li>
</ul></li>
<li><em>Categorical</em>: The values are characteristics that cannot be quantified.
<ul>
<li><em>Binary</em>: These variables have two possible values: <code>TRUE</code> or <code>FALSE</code> (a variable indicating whether the person has siblings or not).</li>
<li><em>Nominal</em>: They describe a name, label, or category without a natural order (for example, the name of a person).</li>
<li><em>Ordinal</em>: Like their name indicates, ordinal variables are categorical and follow a natural order. For example, “terrible”, “bad”, “neutral”, “good”, “great”. A numerical variable can sometimes be discretized and put into categories, like dividing a person’s age into age groups (bins) “toddler”, “child”, “teenager”, “adult”.</li>
</ul></li>
</ul>
<p>Next, we will see how these different types of variables can be treated in R.</p>
</section>
<section id="variables-and-classes" class="level4" data-number="2.2.2.2">
<h4 data-number="2.2.2.2" class="anchored" data-anchor-id="variables-and-classes"><span class="header-section-number">2.2.2.2</span> Variables and classes</h4>
<p>In R, a <em>variable</em> is a named location in memory that stores a value. To create a variable, you simply assign a value to a name using the <code>&lt;-</code> operator (or the <code>=</code> operator, which has an equivalent role when assigning values to a variable, but <code>&lt;-</code> is preferred). For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>my_variable <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code creates a variable called <code>my_variable</code> and assigns the value <code>5</code> to it. You can access the value of a variable or any other object by simply referring to its name, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>my_variable</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>When you run this code, the value of <code>my_variable</code> will be printed to the console. Running <code>print(my_variable)</code> is an alternative syntax, using the <code>print()</code> function.</p>
<p>In R, every object and value has a <em>class</em> that determines how it is stored and how it behaves. For example, the <code>5</code> in our example above is a number, so its class is <code>numeric</code>. To find out the class of a value or a variable, you can use the <code>class()</code> function, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(my_variable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>The most basic classes are:</p>
<ul>
<li><code>numeric</code> (<code>num</code>) - any real number, e.g.&nbsp;<code>2.375</code></li>
<li><code>integer</code> (<code>int</code>) - integer numbers, e.g.&nbsp;<code>2</code></li>
<li><code>character</code> (<code>chr</code>) - any string, e.g., <code>"fluxes"</code></li>
<li><code>logical</code> (<code>logi</code>) - binary, i.e., either <code>TRUE</code> or <code>FALSE</code>.</li>
<li><code>factor</code> (<code>Factor</code>) - categorical data, the variable can only be one of a defined number of options, e.g., one of C3, C4, or CAM (the three pathways of photosynthesis). Factors may also be given an order.</li>
<li><code>function</code> - a set of statements organized to perform a specific task, for example <code>mean()</code></li>
</ul>
<p>By default, any number is coerced as <code>"numeric"</code>. So if you want an integer value to have class <code>"integer"</code>, you need to specify it like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>my_variable <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="dv">5</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(my_variable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<p>Sometimes, you need to convert the class of an object, for example turning an <code>"integer"</code> number into a <code>"character"</code>. You can do so as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>my_variable <span class="ot">&lt;-</span> <span class="fu">as.character</span>(my_variable)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>my_variable</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "5"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(my_variable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Note that now, the values are in quotes <code>"5"</code>. This way, R interprets it as a text and you will not be able to do any numeric calculations with it anymore.</p>
</section>
<section id="vectors" class="level4" data-number="2.2.2.3">
<h4 data-number="2.2.2.3" class="anchored" data-anchor-id="vectors"><span class="header-section-number">2.2.2.3</span> Vectors</h4>
<p>A <em>vector</em> in R is a sequence of data elements of the same class. Vectors can be created with the <code>c()</code> function, which stands for <em>concatenate</em>, i.e., to link together in a series or chain. For example, the following code creates a numeric vector:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To access the elements of a vector, you can use the square bracket notation. For example, the following code retrieves the second element of the vector <code>x</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>You can also use the square bracket notation to extract a sub-vector from a larger vector. For example, you can extract the second to fourth elements of the vector x:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 4</code></pre>
</div>
</div>
<p>Another useful property of vectors in R is that they can be easily combined using arithmetic operators. For example, adding the elements of two vectors <code>x</code> and <code>y</code> element-wise:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 7 9</code></pre>
</div>
</div>
<p>R also supports vectors of other classes, for example character vectors. Since all elements must be of the same class, the most general class will be adopted. The following code concatenates the vectors <code>x</code> and <code>y</code>, followed by new character elements:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(x, y, <span class="st">"seven"</span>, <span class="st">"eight"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1"     "2"     "3"     "4"     "5"     "6"     "seven" "eight"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>Operations on vectors are performed element-wise. For example, if we ask what numbers in <code>x</code> are greater than 2, we obtain a vector of logical values (and class <code>"logical"</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE</code></pre>
</div>
</div>
<p>Vectors that contain sequences of numbers are often needed in programming. They are easily created in R, e.g., by:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>More flexibility is offered by the <code>seq()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0  2  4  6  8 10</code></pre>
</div>
</div>
<p>Often, we need to evaluate multiple elements in a vector. We’ve learned that the operator <code>&gt;</code> tests whether the value left to it is greater than the value on its right and returns a logical. We can subset a vector based on a vector of equal length that contains logicals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3</code></pre>
</div>
</div>
<p>We can also determine the <em>indices</em> (positions of elements in the vector) that evaluate to <code>TRUE</code>, or that have the lowest value:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(x <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.min</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Elements can be dropped from vectors by referring to indices:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>y[<span class="sc">-</span><span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 6</code></pre>
</div>
</div>
</section>
<section id="lists" class="level4" data-number="2.2.2.4">
<h4 data-number="2.2.2.4" class="anchored" data-anchor-id="lists"><span class="header-section-number">2.2.2.4</span> Lists</h4>
<p><em>Lists</em> are R objects, of class <code>"list"</code>. They are a bit like vectors, but more flexible. They allow us to store different types of data, even if they are of different lengths or of different classes. They are created with the function <code>list()</code> and can be named or not. Here is an example where each element of the list is named.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>mylist <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">temperatures =</span> <span class="fu">c</span>(<span class="fl">2.234</span>, <span class="fl">1.987</span>, <span class="fl">4.345</span>), </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">my_favourite_function =</span> mean, </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">my_favourite_course =</span> <span class="st">"Applied Geodata Science"</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Similar to vectors, we can extract elements from lists, either by index <code>[[1]]</code> or by the name using <code>[["temperatures"]]</code> or <code>$temperatures</code>. Note the double <code>[[]]</code> here, indicating an element of a list as opposed to <code>[]</code> indicating an element of a vector. To get the entire vector of temperatures, do either of the three:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.234 1.987 4.345</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="st">"temperatures"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.234 1.987 4.345</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>mylist<span class="sc">$</span>temperatures</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.234 1.987 4.345</code></pre>
</div>
</div>
<p>Note below how, if we index the list like we would index a vector, a list with just one element would be returned, rather than the element itself. <code>[</code> is used to subset a list (and a list is returned). In contrast, <code>[[</code> or <code>$</code> extract a single element from a list. A thorough explanation of these differences is given <a href="https://r4ds.hadley.nz/base-r#sec-subset-many">here</a> and <a href="https://r4ds.hadley.nz/base-r#sec-subset-one">here</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mylist[<span class="dv">1</span>]  <span class="co"># returns a subset of the list as a new list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$temperatures
[1] 2.234 1.987 4.345</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="dv">1</span>]]  <span class="co"># extracts the first element of the list (a vector)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.234 1.987 4.345</code></pre>
</div>
</div>
<p>To get the first temperature value, which is an element of the vector (at the same time an element of the list), we can run:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="st">"temperatures"</span>]][<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.234</code></pre>
</div>
</div>
<p>You can also append elements to the list (either way is possible):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>mylist[[<span class="st">"my_second_favourite_function"</span>]] <span class="ot">&lt;-</span> median</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>mylist<span class="sc">$</span>my_second_favourite_function <span class="ot">&lt;-</span> median</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This was a very condensed introduction to vectors and lists. A more complete introduction is given <a href="https://r4ds.had.co.nz/vectors.html">here</a>.</p>
</section>
<section id="data-frames" class="level4" data-number="2.2.2.5">
<h4 data-number="2.2.2.5" class="anchored" data-anchor-id="data-frames"><span class="header-section-number">2.2.2.5</span> Data frames</h4>
<p>A <em>data frame</em>, an object of class <code>"data.frame"</code>, is essentially a table, consisting of named columns and rows. A data frame can be created as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Maria"</span>, <span class="st">"Peter"</span>, <span class="st">"Alex"</span>, <span class="st">"Charlie"</span>),</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">13</span>, <span class="dv">56</span>, <span class="dv">30</span>, <span class="dv">42</span>),</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">is_married =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name age is_married
1   Maria  13      FALSE
2   Peter  56       TRUE
3    Alex  30       TRUE
4 Charlie  42      FALSE</code></pre>
</div>
</div>
<p>A data frame can also be understood as a list of vectors of equal length, whereby each vector vector makes up a column and each of these vectors (columns) contains values of the same type. This notion makes it also evident that the elements of a data frame can be accessed the same way like we access elements of lists. To get the vector corresponding to the column named <code>age</code>, we can do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13 56 30 42</code></pre>
</div>
</div>
<p>Data frames can be also be treated as a <em>matrix</em>. Note that the first index refers to rows and the second to columns. For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="dv">1</span>]   <span class="co"># first column (returns a vector)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Maria"   "Peter"   "Alex"    "Charlie"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>, ]   <span class="co"># second row (returns a data frame)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name age is_married
2 Peter  56       TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>,<span class="dv">2</span>]   <span class="co"># age of Peter (returns a scalar)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 56</code></pre>
</div>
</div>
<p>The method of selecting parts of a data frame by index is quite flexible. For example, we may require the information in the third column for the first three rows. Putting a colon between two numbers, e.g.&nbsp;<code>[1:3,]</code>, indicates we want to select the rows numbers starting at the first and ending with the second number. So here <code>[1:3,]</code> will give us rows one, two and three. This can be combined with subsetting for the other dimension as well:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE  TRUE</code></pre>
</div>
</div>
<p>To reduce the data frame to fewer columns/rows that are not contiguous, the function <code>c()</code> is used. This outputs the data frame reduced to the selected row or column numbers inside <code>c()</code>. Another method is to select the columns by column names, i.e.&nbsp;giving as input a string vector with the name of each column we want to select. For example, the following commands give the same output:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]                   <span class="co"># select by column index</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name is_married
1   Maria      FALSE
2   Peter       TRUE
3    Alex       TRUE
4 Charlie      FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>df[, <span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"is_married"</span>)]  <span class="co"># select by column name</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     name is_married
1   Maria      FALSE
2   Peter       TRUE
3    Alex       TRUE
4 Charlie      FALSE</code></pre>
</div>
</div>
<p>There are several base R functions to help you understand the structure of a data frame. Here is a non-exhaustive list of of them:</p>
<ul>
<li>Size
<ul>
<li><code>dim()</code> - Returns the dimensions of an object (here: number of rows and columns).</li>
<li><code>nrow()</code> - Returns the number of rows of an object.</li>
<li><code>ncol()</code> - Returns the number of columns of an object.</li>
</ul></li>
<li>Content
<ul>
<li><code>head()</code> - Returns the first 6 rows.</li>
<li><code>tail()</code> - Returns the last 6 rows.</li>
<li><code>View()</code> - Opens a window in the source panel in RStudio where you can look at the entire data set in the form of a table.</li>
</ul></li>
<li>Names
<ul>
<li><code>names()</code> - Returns the column names (for <code>data.frame</code> objects it is synonymous to <code>colnames()</code>).</li>
<li><code>rownames()</code> - Returns the row names.</li>
</ul></li>
</ul>
<p>For example, the data frame <code>df</code> has 4 rows and 3 columns:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 3</code></pre>
</div>
</div>
<p>There are many more things you can do with data frames. Since they are central to analyzing data with R, we have dedicated all of Chapter @ref(datawrangling) to teach you how to work with data frames in a tidy way with the <a href="https://www.tidyverse.org/">{tidyverse}</a> collection of packages.</p>
</section>
<section id="functions" class="level4" data-number="2.2.2.6">
<h4 data-number="2.2.2.6" class="anchored" data-anchor-id="functions"><span class="header-section-number">2.2.2.6</span> Functions</h4>
<p>R <em>functions</em> can be applied to an object (or several objects) and return another object. For example, the <code>mean()</code> function can take a numeric vector as input and output the mean of its elements.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35.25</code></pre>
</div>
</div>
<p>Functions are also R objects and have class <code>"function"</code>. Writing your own functions is an essential part of good programming and will be introduced in Chapter @ref(programmingprimers).</p>
</section>
<section id="missing-values" class="level4" data-number="2.2.2.7">
<h4 data-number="2.2.2.7" class="anchored" data-anchor-id="missing-values"><span class="header-section-number">2.2.2.7</span> Missing values</h4>
<p>R has two representations for missing values: <code>NA</code> and <code>NULL</code>. Similar objects also exist in other programming languages.</p>
<p><code>NA</code> is an identifier to mark missing data and stands for <em>not available</em>. You will encounter this when reading data into a data frame, and some of its cells show <code>NA</code> because that value is missing. Also, if you ask for the fourth element of a vector of length 3, R returns <code>NA</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>In general, operations on vectors that contain at least one <code>NA</code> value return <code>NA</code>. For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>To remove all missing values in the function evaluation, the common argument to set in the respective function call is <code>na.rm</code>. By default, it is usually set to <code>FALSE</code>, but we can do:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.5</code></pre>
</div>
</div>
<p>Furthermore, <code>NA</code> counts as an element in vectors. A variable assigned just <code>NA</code> would have length 1 (of class <code>"logical"</code>) and the vector above has length 3, as can be determined using the <code>length()</code> function, and has class <code>"numeric"</code>.</p>
<p>Whether a value is missing can be tested by:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE  TRUE</code></pre>
</div>
</div>
<p>By contrast, <code>NULL</code> is the R null object or empty space. You can also assign <code>NULL</code> to a variable, which will then have length zero because it is empty. Functions may return <code>NULL</code> when no output was defined, or if an error occurred.</p>
</section>
<section id="read-and-save-objects" class="level4" data-number="2.2.2.8">
<h4 data-number="2.2.2.8" class="anchored" data-anchor-id="read-and-save-objects"><span class="header-section-number">2.2.2.8</span> Read and save objects</h4>
<p>The function <code>save()</code> allows to save multiple R objects of any form as a single <code>.RData</code> file. This is how the environment of your R session is saved. This is how we would save several R objects:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(df, df_small, <span class="at">file =</span> <span class="st">"./data/data_frames.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To tell the function where the data is located, pass the data’s <em>path</em> as an argument. You can either use an <em>absolute path</em>, starting from <code>C:/</code> on a Windows computer or <code>~/</code> on a Mac or Linux. Or, alternatively, you can provide a <em>relative path</em>, where <code>./</code> points to the present working directory (like above) and <code>../</code> is one level up, or <code>../../</code> is two levels up, etc. We recommend that you work with R projects and use relative paths, because the working directory is set to the root directory of the R project and relative paths will also work on another person’s computer, helping with reproducibility.</p>
<p>In the example above, we provided a relative path, starting at the current working directory (<code>./</code>). The file <code>data_frames.RData</code> sits in a sub-directory of the current working directory, called <code>data/</code>. What is the current working directory? Unfortunately, the answer is “it depends…”. You’ll learn more about this in Section @ref(rprojects).</p>
<p><code>.RData</code> files are read into your environment using the <code>load()</code> function. This function loads the objects with the name that they were saved with.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"./data/data_frames.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alternatively, the function <code>saveRDS()</code> allows you save single R objects that can then be read into R with a specific (potentially new) variable name. This is more transparent than using <code>save()</code> and <code>load()</code>, and thus is preferred, as it gives the user more control over variable names.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(df_small, <span class="at">file =</span> <span class="st">"./data/df_small.rds"</span>)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>df_small_2 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/df_small.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>save()</code> and <code>saveRDS()</code> create <em>binary</em> files that are fast to write and read, but only intelligible to R (and not to the human eye or another program). Such files are commonly identified by the suffix <code>.rds</code>. It is recommended to name the <code>.rds</code> files according to the single object they contain. When publishing and sharing data, follow Open Science principles (Chapter @ref(openscience)) and avoid file formats that are not readable across different platforms and programming languages. We will learn more about human-readable tabular data files like CSV in Chapter @ref(datawrangling) and other open source binary file formats in Chapter @ref(datavariety).</p>
</section>
</section>
<section id="r-environment" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="r-environment"><span class="header-section-number">2.2.3</span> R environment</h3>
<p>The set of objects (variables, data frames, etc.) defined during an R session are referred to as the <em>environment</em>. You can view the objects in RStudio in the <strong>environment</strong> panel in R Studio, grouped as Data, Values and Functions.</p>
<p>After closing an existing R session (e.g., after quitting RStudio), the environment defined by the used during that session will not be saved automatically and will not be available in your next R session. You should avoid saving your entire environment. Rather, save individual objects into files and read them in explicitly in the next R session, as described above. This gives you control, transparency, and ensures better reproducibility.</p>
</section>
<section id="libraries" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="libraries"><span class="header-section-number">2.2.4</span> Libraries</h3>
<p><em>Packages</em>, also called <em>libraries</em>, are collections of R functions, data, and complied code in a well-defined format. R comes with a standard set of packages (including {base} R, {utils}, {stats}…) and other packages targeted for specific applications are available for download and installation. Once installed, you need to load them each time you start a new R session to use them.</p>
<p>For example, the {tidyverse} package is used for data wrangling and will be covered in this course. This is a special package which loads many other packages in the background (like {readr}, {ggplot2}, etc.). You can install a new package as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, you can load it with the following code. Note that now the name of the package is not in quotation marks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can now use the functions and features provided by the {tidyverse} package in your R scripts.</p>
<blockquote class="blockquote">
<p>Imagine that you have loaded two packages named {lib1} and {lib2} with the <code>library()</code> function. Now, all the functions in those two packages are available for use in R. But if both of them have a function called <code>fun()</code> and you run the command <code>fun(my_vector)</code>, how does R know from which package that function comes? Normally, the package loaded last will “mask” the previous packages, such that their functions (if names are repeated) are used by R.</p>
</blockquote>
<blockquote class="blockquote">
<p>If you want to specify from which library to take a function, you can use the <code>::</code> notation. So in our imaginary example we would use <code>lib1::fun()</code>. Furthermore, using the <code>::</code> notation allows to access a function without the package not being loaded. In general, it’s a good practice to specify the package from which a function comes with <code>::</code>.</p>
</blockquote>
<p>At any time, you can see a list of your installed packages on the source panel with the following command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And a list of the packages currently loaded:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ".GlobalEnv"        "package:stats"     "package:graphics" 
[4] "package:grDevices" "package:utils"     "package:datasets" 
[7] "package:methods"   "Autoloads"         "package:base"     </code></pre>
</div>
</div>
<p>This information can also be found on the <strong>Packages</strong> panel in RStudio. The loaded packages are shown with a tick mark.</p>
</section>
<section id="r-scripts" class="level3" data-number="2.2.5">
<h3 data-number="2.2.5" class="anchored" data-anchor-id="r-scripts"><span class="header-section-number">2.2.5</span> R scripts</h3>
<p>Usually, multiple statements are needed to get, e.g., from reading data into R to final numbers and figures that make up a further analysis. Together, these multiple statements constitute a <em>workflow</em>. It is essential that all workflows that underlie results of publications are <em>reproducible</em>, that is, that another person can replicate your results using your code and certain data.</p>
<p>To make a workflow reproducible, the sequence of statements that you needed to carry out your analysis and produce outputs can be saved as an R <em>script</em>. A script is a text file named with the suffix <code>.R</code> to indicate that it is executable by R. It contains a sequence of R commands, which you can be executed, line by line, starting from the top.</p>
<p>To create a new script in RStudio, go to the <strong>File</strong> menu and select <strong>New File &gt; R Script</strong>. This will open a new script file in the source editor. You can then type your R code in the script file and save it to your computer.</p>
<p>To run a script, you can either use the <strong>Source</strong> button in the source editor or use the keyboard shortcut Ctrl + Shift + Enter (Windows) or Command + Shift + Enter (Mac). This will run all of the commands in the script file, in the order they are written, in the console. Alternatively, you can type into the console:</p>
<pre><code>&gt; source("my_r_script.R")</code></pre>
<p>Note that, to be able to run the code above, the file <code>my_r_script.R</code> must be in your current working directory. You must always specify the path to the file, also when sourcing code.</p>
</section>
<section id="rmarkdown" class="level3" data-number="2.2.6">
<h3 data-number="2.2.6" class="anchored" data-anchor-id="rmarkdown"><span class="header-section-number">2.2.6</span> R Markdown</h3>
<p><a href="https://rmarkdown.rstudio.com/">R Markdown</a> files are an enhanced version of scripts. They combine formatted text and executable code chunks. They can either be compiled (<em>knitted</em>) into an HTML or PDF output, where code chunks are executed upon compilation and visualization outputs are directly placed into the output, or they can be run like a script entirely or each code chunk separately. Rmarkdown is ideal for <strong>reporting</strong>, i.e., writing your final document presenting your analysis results. When opened in RStudio, RMarkdown files appear in the Editor like this:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/rmarkdown_editor.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">R Markdown document opened in the source panel.</figcaption>
</figure>
</div>
</div>
</div>
<p>As shown in Fig. @ref(fig:rmarkdown), an RMarkdown file consists of a header that specifies the document properties, such as how it should be rendered (as an html page, a docx file or a pdf).</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="ex">---</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="ex">title:</span> <span class="st">"Simple global map"</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="ex">author:</span> Alex Humboldt</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="ex">output:</span> html_document</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="ex">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Below the header follow the contents as either text or code <em>chunks</em>. Text is formatted using the <a href="https://www.markdownguide.org/">Markdown syntax</a>. Nice brief guides are provided <a href="https://commonmark.org/help/">here</a> or <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">here</a>. For example, a top-level section title is specified by <code>#</code> and a title of a section one level lower by <code>##</code>.</p>
<p>Code chunks that contain executable R code are opened by a line <code>```{r}</code>.</p>
<p>The document can be rendered by calling <code>rmarkdown::render()</code> on the command line or hitting the <strong>Knit</strong> button in the RStudio IDE. Depending on your settings a html file, pdf or docx file will be generated in your current directory (and or displayed in the IDE viewer). The RMarkdown source file shown in Fig. @ref(fig:rmarkdown) is rendered to:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/rmarkdown_render.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Rendered HTML output.</figcaption>
</figure>
</div>
</div>
</div>
<p>Note that the code chunk produced a figure as an output which was placed directly in the rendered html. This demonstrates the usefulness of RMarkdown as <em>notebooks</em> to document entire workflows and make their outputs reproducible.</p>
<p>To create a new RMarkdown file, select from the drop-down menu in the top-left corner of RStudio as shown below:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/newrmarkdown.png" class="img-fluid figure-img" style="width:25.0%"></p>
<figcaption class="figure-caption">Create a new RMarkdown file</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="wspmgmt" class="level3" data-number="2.2.7">
<h3 data-number="2.2.7" class="anchored" data-anchor-id="wspmgmt"><span class="header-section-number">2.2.7</span> Workspace management</h3>
<p>Workspace management is crucial for efficient data science projects. Two aspects are essential for workspace management: The structure of directories and the types of files they contain; and code management and version control. To address these two points, we will briefly introduce you to <em>R projects</em> and <em>git</em>.</p>
<section id="rprojects" class="level4" data-number="2.2.7.1">
<h4 data-number="2.2.7.1" class="anchored" data-anchor-id="rprojects"><span class="header-section-number">2.2.7.1</span> R projects</h4>
<p>Think of all files that are linked to a certain data science workflow as belonging together into one project. A project is therefore a directory that contains the code and the files it produces. Different types of files go in different sub-directories with descriptive names. To keep an order and make your code useful also for others, always keep files of the same type in sub-directories that are always named the same way across projects. When creating a new project, you will find the same overall structure. A common structure is:</p>
<ul>
<li>Keep <code>.R</code> files that implement a user-defined function (see Chapter @ref(programmingprimers)) in a sub-directory <code>./R/</code>, and <code>.R</code> files that implement a workflow in a sub-directory <code>./analysis/</code>. Workflow implementations with a view to communication should be implemented in RMarkdown files.</li>
<li>RMarkdown files are commonly kept in a sub-directory <code>./vignettes/</code> or in the main (top-level) project directory.</li>
<li>Keep figures produced by your code in a sub-directory <code>./figures/</code></li>
<li>Keep data files produced by your code in a sub-directory <code>./data/</code></li>
<li>Data obtained from external sources (e.g., published datasets, data shared by collaborators) and potentially used across multiple projects should be kept outside a project directory. Set up your own directory of data obtained from external sources, for example in your home as <code>~/data/</code></li>
</ul>
<p>To read and write from/to files you should use relative paths (relative to the project’s top-level directory), like any of the two equivalent following options:</p>
<pre><code>&gt; source("./R/my_r_script.R")
&gt; source("R/my_r_script.R")</code></pre>
<p>… and not:</p>
<pre><code>&gt; source("~/my_project/my_r_script.R")</code></pre>
<p>Note that when a path is specified, e.g,. in a script or RMarkdown file that sits itself in a sub-directory, then the effective current working directory is that sub-directory, and not the top-level project directory.</p>
<blockquote class="blockquote">
<p>Hint: Use <code>here::here()</code> to obtain the path to the top-level. Paths can then be specified relative to that, irrespective of where the code lives that uses that path. For example, a file in sub-directory <code>data/</code> can be read by <code>read.csv(paste0(here::here(), "/data/a_file.rds"))</code>.</p>
</blockquote>
<p>R sessions in RStudio that are connected to such project directories are <em>R projects</em>. To create a new R project, go to the <strong>File</strong> menu and select <strong>New Project…</strong>. This will open the <em>New Project</em> dialog, where you can choose where to save your project and what type of project to create. The current project that you are working on is shown on the upper right corner of the RStudio interface. Here you can also switch between existing projects or create a new one.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/RStudio_RProject_screenshot.png" class="img-fluid figure-img" style="width:30.0%"></p>
<figcaption class="figure-caption">R project menu.</figcaption>
</figure>
</div>
</div>
</div>
<p>When starting a new project, named <code>project_name</code>, a file <code>project_name.Rproj</code> is created in the top-level project directory. It stores information about your the session (settings, open files, etc.), automatically enables useful features in RStudio for easy package, website, or book building, lets you manage code version control (see next sub-section), and optionally (not recommended) stores the environment of your current session. It is not recommended to save and restore entire environments. Instead read and write objects from and into files to guarantee control, transparency, and reproducibility. When you want to continue working on an existing R project, you can start a new session by clicking on your <code>project_name.Rproj</code> file. This restores</p>
<p>In Chapters @ref(openscience) and @ref(codemgmt), we will learn more about efficient code management.</p>
</section>
<section id="git" class="level4" data-number="2.2.7.2">
<h4 data-number="2.2.7.2" class="anchored" data-anchor-id="git"><span class="header-section-number">2.2.7.2</span> git</h4>
<p><em>git</em> is a version control system that keeps track of all changes on your code, who made it, and when. It allows you to go back to previous changes, and lets you control when to iterate from one state of the code to the next. The basic unit of <em>git</em> is a git repository - all the code contained in a project directory. That’s why <em>R projects</em> work well with <em>git</em>. <em>git</em> can also keep track of changes in data, so long as the data is small and in text format (see @ref(datavariety)).</p>
<p><em>git</em> also lets you sync your local copy of a <em>git repository</em> with git service in the cloud, for example <a href="https://github.com/">GitHub</a>. This allows you to manage the same repository across computers and collaborate with multiple partners on the same repository.</p>
<p>We will learn more about <em>git</em> in Chapter @ref(codemgmt). For now, follow instructions in Section @ref(setup) to set yourself up with installing <em>git</em> and other required stuff on your computer and with a GitHub account. You will use this later in this course (and maybe throughout your career).</p>
</section>
</section>
<section id="setup" class="level3" data-number="2.2.8">
<h3 data-number="2.2.8" class="anchored" data-anchor-id="setup"><span class="header-section-number">2.2.8</span> Setup</h3>
<section id="packages" class="level4" data-number="2.2.8.1">
<h4 data-number="2.2.8.1" class="anchored" data-anchor-id="packages"><span class="header-section-number">2.2.8.1</span> Packages</h4>
<p>You either have installed R and RStudio at the start of this chapter or you had them in your computer already. If you belong to the second group, make sure that you update both R and RStudio to get the latest versions. Working with the latest version of R, RStudio and packages helps to avoid errors due to dependency conflicts. Now, let’s install all the required packages for this course and load them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>use_pkgs <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"dplyr"</span>, <span class="st">"tidyr"</span>, <span class="st">"readr"</span>, <span class="st">"lubridate"</span>, <span class="st">"stringr"</span>, <span class="st">"purrr"</span>,</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>              <span class="st">"ggplot2"</span>, <span class="st">"tidyverse"</span>, <span class="st">"visdat"</span>, <span class="st">"terra"</span>, <span class="st">"hexbin"</span>, <span class="st">"jsonlite"</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">"MODISTools"</span>, <span class="st">"forcats"</span>, <span class="st">"yardstick"</span>, <span class="st">"recipes"</span>, <span class="st">"caret"</span>,</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">"broom"</span>, <span class="st">"skimr"</span>, <span class="st">"cowplot"</span>, <span class="st">"scico"</span>, <span class="st">"hwsdr"</span>, <span class="st">"usethis"</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>              <span class="st">"renv"</span>, <span class="st">"rsample"</span>, <span class="st">"modelr"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"rpart"</span>,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>              <span class="st">"rpart.plot"</span>, <span class="st">"ranger"</span>, <span class="st">"sessioninfo"</span>, <span class="st">"ncdf4"</span>)</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>new_pkgs <span class="ot">&lt;-</span> use_pkgs[<span class="sc">!</span>(use_pkgs <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[, <span class="st">"Package"</span>])]</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(new_pkgs) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">install.packages</span>(new_pkgs,<span class="at">repos =</span> <span class="st">"http://cran.us.r-project.org"</span>)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">lapply</span>(use_pkgs, require, <span class="at">character.only =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If the installation failed, there should be an error message “Installation of package … had non-zero exit status”. If so, check with teaching assistance.</p>
</section>
<section id="other-libraries-and-applications" class="level4" data-number="2.2.8.2">
<h4 data-number="2.2.8.2" class="anchored" data-anchor-id="other-libraries-and-applications"><span class="header-section-number">2.2.8.2</span> Other libraries and applications</h4>
<p>Some R packages depend on one another (for example, all depend on {base} R), but they can also depend on software external to the R ecosystem. For Chapter @ref{datavariety}, we will need the {ncdf4} package to work with <a href="https://www.unidata.ucar.edu/software/netcdf/"><em>netCDF</em></a> files in R. NetCDF (network Common Data Form) is a file format for storing multidimensional scientific data (variables) such as temperature, humidity, pressure, wind speed, and direction. The package {ncdf4} depends on software that is not available as an R package, the <code>netCDF</code> command-line tools, which you need to install additionally on your computer.</p>
<p>To install the <code>netCDF</code> command-line tools, follow these instructions:</p>
<ul>
<li>For MacOS users, via <em>homebrew</em>:
<ul>
<li>You first need to install the package manager <a href="https://brew.sh/">Homebrew</a>. Copy-paste the following code into the terminal: <code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code>.</li>
<li>Type into terminal <code>brew --version</code>.
<ul>
<li>If version number is shown, you are good to go.</li>
<li>If nothing pops up, restart Mac and type in again. If still nothing shows, check with teaching assistance.</li>
</ul></li>
<li>Type in <code>brew install netcdf</code> following <a href="https://formulae.brew.sh/formula/netcdf">this</a>.</li>
<li>Restart RStudio if it was open during the steps above. Enter <code>install.packages("ncdf4")</code> and see if it installs it correctly.
<ul>
<li>If installation failed, there should be a message “Installation of package … had non-zero exit status”. If so, check with teaching assistance.</li>
</ul></li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>Note: The programm <em>Terminal</em> allows you to interact with your Mac through the command line and is installed automatically. You can open it through the Finder if you go to <strong>Applications &gt; Utilities &gt; Terminal</strong>.</p>
</blockquote>
<ul>
<li>For MacOS users, via <em>MacPorts</em>:
<ul>
<li>Install <em>xcode</em> via the Terminal by typing in <code>xcode-select --install</code> (if not installed already).</li>
<li>Then, install the package manager <em>Homebrew</em> via the terminal code <code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code>.</li>
<li>Then, install <em>netcdf</em> via the terminal code <code>brew install netcdf</code>.</li>
<li>It is possible that you still cannot install {terra} because you are missing <em>gdal</em>. If so, run <code>brew install gdal</code> in the terminal.</li>
</ul></li>
<li>For Linux users:
<ul>
<li>Since the package is pre-installed in Linux, just type <code>sudo apt install gdal-bin libgdal-dev</code> in the terminal.</li>
</ul></li>
<li>For Windows users:
<ul>
<li>Download the “netCDF-4 64-bit (Windows)” <code>.exe</code> file on the <a href="https://www.unidata.ucar.edu/downloads/netcdf/index.jsp">netCDF website</a>.</li>
<li>Once downloaded, click on the <code>.exe</code> file and follow the installation dialog.</li>
</ul></li>
</ul>
<p>You can check if the installation was successful by running the following code in the RStudio console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"https://raw.githubusercontent.com/geco-bern/agds/main/data/demo_data.nc"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>class       : SpatRaster 
dimensions  : 41, 71, 1  (nrow, ncol, nlyr)
resolution  : 0.1, 0.1  (x, y)
extent      : 4.95, 12.05, 43.95, 48.05  (xmin, xmax, ymin, ymax)
coord. ref. : lon/lat WGS 84 
source      : demo_data.nc 
varname     : t2m (2 metre temperature) 
name        : t2m 
unit        :   K 
time        : 2022-01-01 12:00:00 UTC </code></pre>
</div>
</div>
<p>Or, to be independent of R and the {terra} package, you can test it by running the following code in your bash terminal (on Mac or Linux):</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># download file demo_data.nc</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">--output</span> demo_data.nc https://raw.githubusercontent.com/geco-bern/agds/main/data/demo_data.nc</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co"># show header of file</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ncdump</span> <span class="at">-h</span> demo_data.nc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="git-1" class="level4" data-number="2.2.8.3">
<h4 data-number="2.2.8.3" class="anchored" data-anchor-id="git-1"><span class="header-section-number">2.2.8.3</span> git</h4>
<p>In this section, you will install <em>git</em>, create a GitHub account and connect it to RStudio. This should set up your laptop so that you can do version control of your code (with an easy to use interface) and upload changes to an online copy of your R project (on GitHub) directly from RStudio. Follow these instructions:</p>
<ul>
<li>If you don’t have one already, create a GitHub account on <a href="https://github.com" class="uri">https://github.com</a> and sign in. We encourage you to use a personal email (not your student email) so you can keep using this account for years to come, thus compiling your “code knowledge base”.</li>
<li>Next, follow the Git download and installation instructions for your OS outlined <a href="https://git-scm.com/downloads">here</a>.</li>
<li>Once Git is installed, reboot RStudio. Set up RStudio for version control by going to <strong>Tools &gt; Global Options &gt; Git/SVN</strong> and tick “Enable version control interface…”. The path to your Git installation should be correct automatically.
<ul>
<li>If it says “(Not Found)”, try the following:
<ul>
<li>For Windows, it’s probably <code>C:\\Program Files\\Git\\bin\\git.exe</code>.</li>
<li>For MacOS and Linux, you can type <code>which git</code> in the Terminal and it will show the installation location.</li>
<li>If you get an error after trying this, ask the teaching assistance.</li>
</ul></li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/git_in_rstudio.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Set up Git for RStudio.</figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li>Connect your GitHub account with Git locally, using SSH keys (which are cryptographic authentication credentials). You can do this from RStudio following the steps:
<ul>
<li>Go to <strong>Tools &gt; Global Options &gt; Git/SVN</strong> and select <strong>Create SSH Key…</strong>. Create an SSH key with the default options (you can ignore the passphrase and click “Create”). This will create a new SSH in your default <code>~/.ssh</code> folder.</li>
</ul></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/create_ssh_key.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Create an SSH key from RStudio.</figcaption>
</figure>
</div>
</div>
</div>
<pre><code>-   Next, click on **View public key** (above your new SSH key) and copy the public key (all the text). </code></pre>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/copy_public_key.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Copy the public key for the SSH connection</figcaption>
</figure>
</div>
</div>
</div>
<pre><code>-   Go back to your browser and open your GitHub account. At the top right, open your profile's menu and choose **Settings &gt; SSH and GPG Keys**. Then select **Add new SSH key**. Give your SSH connection a name, for example "My laptop" and paste the *public key* that you copied from RStudio. If you have problems, check out [these instructions](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account) to add a new SSH key to your GitHub account. 
-   Finally, you can test your SSH connection following [these instructions](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/testing-your-ssh-connection). Note that, at the top of these websites, there's an option to choose your OS because the steps vary depending on the type of computer your work with.</code></pre>
</section>
<section id="setupreport" class="level4" data-number="2.2.8.4">
<h4 data-number="2.2.8.4" class="anchored" data-anchor-id="setupreport"><span class="header-section-number">2.2.8.4</span> Preparation for your report</h4>
<p>Your performance assessment for Applied Geodata Science will be in the form of a report. You will approach the writing of this report as if you were working on a clean, structured and reproducible data science project. This section is meant to guide you through the preparation of your report workspace, such that it’s in the form that you will submit it. Following the next steps, you will set up a git repository containing an R project and an R Markdown file.</p>
<ul>
<li>Log into GitHub in your browser and create a <strong>new repository</strong>. Name it <em>agds_report_yourname</em>, give it a short description and set it to be public, so we can read it for the evaluation. Include a README file (it’s a sort of menu which you’ll edit later), a <code>.gitignore</code> template for R (select in the drop-down menu) and a Creative Commons license (for code sharing rights, etc).</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/create_git_repository.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Create a Git repository for your report.</figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li>Now that you have a GitHub repository, open it and you should see a green button saying <strong>Code</strong>. Go to <strong>SSH</strong> and copy that url. You will use it to <em>clone</em> the repository.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/copy_ssh_repo.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Copy the SSH url to clone your reporitory.</figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li>Open RStudio. Create a new R project (opening the <strong>New Project</strong> dialog) from a GitHub repository. Paste the repository’s url, give it a name (by default the same as the repository) and select in which folder you want to keep it locally (for example the base directory <code>~</code>). This will clone all the files from GitHub onto the project directory (i.e.&nbsp;folder) in your computer.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/clone_repo_ssh.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">Clone your repository and create an R project.</figcaption>
</figure>
</div>
</div>
</div>
<ul>
<li>With this, you’re set up. If your R project <code>agds_report_yourname</code> is open, you should see a <strong>Git</strong> panel in RStudio (next to <strong>Environment</strong>) and also be able to use Git in the <strong>Terminal</strong> panel in RStudio. As mentioned above, we will start working with these tools in a few weeks and they will be a crucial part of the course.</li>
<li>You’ll see a detailed explanation of the <em>git</em> workflows in Chapter @ref(codemgmt). For now, add your solutions to each report exercise into a separate RMarkdown file, placed in a subdirectory named <code>./vignettes/</code>. The first Report Exercise will be the one for Chapter @ref(datawrangling) where you will be asked to implement your solutions in a file called <code>re_tidy.Rmd</code>. At that stage, your repository should look like this:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/Rmd_report.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption class="figure-caption">At first, the R Markdown for your report will look something like this.</figcaption>
</figure>
</div>
</div>
</div>
<p>In total you should have two R projects related to this course: a local project containing solutions to general exercises (for yourself, created in the exercises below) and the report project + git repository (that you just created and will share with us at the end of the course). Your report project should not include the solutions to general exercises.</p>
</section>
</section>
</section>
<section id="exercises" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="exercises"><span class="header-section-number">2.3</span> Exercises</h2>
<section id="dimensions-of-a-circle" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dimensions-of-a-circle">Dimensions of a circle</h3>
<ul>
<li>Given the radius of a circle <code>r</code>, write a few lines of code that calculates its area and its circumference. Run your code with different values assigned to <code>r</code>.</li>
<li>Print the solution as text.</li>
</ul>
<blockquote class="blockquote">
<p><em>Hint</em>: Enter <code>pi</code> in your console.</p>
</blockquote>
<blockquote class="blockquote">
<p><em>Hint</em>: Entering <code>print("agds")</code> in your console returns <code>"agds"</code>. Combining (concatenating) multiple strings into a single one can be done using <code>paste()</code>.</p>
</blockquote>
</section>
<section id="sequence-of-numbers" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sequence-of-numbers">Sequence of numbers</h3>
<p>Generate a sequence of numbers from 0 and <span class="math inline">\(\pi\)</span> as a vector with length 5.</p>
<blockquote class="blockquote">
<p><em>Hint</em>: Consult the manual of the function <code>seq()</code> by entering <code>?seq</code> in your terminal.</p>
</blockquote>
</section>
<section id="gauss-sum" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="gauss-sum">Gauss sum</h3>
<p>Rumors have it that young Carl Friedrich Gauss was asked in primary school to calculate the sum of all natural numbers between 1 and 100. He did it in his head in no time. We’re very likely not as intelligent as young Gauss. But we have R. What’s the solution?</p>
<p>Gauss calculated the sum with a trick. The sum of 100 and 1 is 101. The sum of 99 and 2 is 101. You do this 50 times, and you get <span class="math inline">\(50 \times 101\)</span>. Demonstrate Gauss’ trick with vectors in R.</p>
</section>
<section id="magic-trick-algorithm" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="magic-trick-algorithm">Magic trick algorithm</h3>
<p>Define a variable named <code>x</code> that contains an integer value and perform the following operations in sequence:</p>
<ul>
<li>Redefine <code>x</code> by adding 1.</li>
<li>Double the resulting number, over-writing <code>x</code>.</li>
<li>Add 4 to <code>x</code> and save the result as <code>x</code>.</li>
<li>Redefine <code>x</code> as half of the previous value of <code>x</code>.</li>
<li>Subtract the originally chosen arbitrary number from <code>x</code>.</li>
</ul>
<p>Print <code>x</code>. Restart the algorithm defined above by choosing a new arbitrary natural number.</p>
</section>
<section id="vectors-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="vectors-1">Vectors</h3>
<p>Print the object <code>datasets::rivers</code> and consult the manual of this object.</p>
<ul>
<li>What is the class of the object?</li>
<li>What is the length of the object?</li>
<li>Calculate the mean, median, minimum, maximum, and the 33%-quantile across all values.</li>
</ul>
<blockquote class="blockquote">
<p><em>Hint</em>: If you don’t know how to solve a problem, help yourself on the internet.</p>
</blockquote>
</section>
<section id="data-frames-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="data-frames-1">Data frames</h3>
<p>Print the object <code>datasets::quakes</code> and consult the manual of this object.</p>
<ul>
<li>Determine the dimensions of the data frame using the respective function in R.</li>
<li>Extract the vector of values in the data frame that contain information about the Richter Magnitude.</li>
<li>Determine the value largest value in the vector of event magnitudes.</li>
<li>Determine the geographic position of the epicenter of the largest event.</li>
</ul>
</section>
<section id="workspace" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="workspace">Workspace</h3>
<p>Create a new <em>R project</em> and create sub-directories in a meaningful way (as described in this Chapter). Create an RMarkdown file in your new project which implements your solutions to above exercises. Give the file a title, implement some structure in the document, and write some text explaining what your code does.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./programming_primers.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Programming primers</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>